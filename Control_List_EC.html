<html xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882">
<head>
    <title>Control_List_EC</title>

    <!--[if gte mso 9]><xml>
    <mso:CustomDocumentProperties>
    <mso:TemplateHidden msdt:dt="string">0</mso:TemplateHidden>
    <mso:MasterPageDescription msdt:dt="string">This is the default Control Display Template that will list the items. It does not allow the user to page through items.</mso:MasterPageDescription>
    <mso:ContentTypeId msdt:dt="string">0x0101002039C03B61C64EC4A04F5361F385106601</mso:ContentTypeId>
    <mso:TargetControlType msdt:dt="string">;#Content Web Parts;#</mso:TargetControlType>
    <mso:HtmlDesignAssociated msdt:dt="string">1</mso:HtmlDesignAssociated>
    <mso:HtmlDesignStatusAndPreview msdt:dt="string">http://nexus-tst.mdt-ext-test.biz/content/EngineersCorner/_catalogs/masterpage/Display%20Templates/Content%20Web%20Parts/Control_List_EC.html, Conversion successful.</mso:HtmlDesignStatusAndPreview>
    <mso:HtmlDesignConversionSucceeded msdt:dt="string">True</mso:HtmlDesignConversionSucceeded>
    <mso:CrawlerXSLFile msdt:dt="string"></mso:CrawlerXSLFile>
    <mso:HtmlDesignPreviewUrl msdt:dt="string"></mso:HtmlDesignPreviewUrl>
    </mso:CustomDocumentProperties>
    </xml><![endif]-->


    <style type="text/css">
        #Control_List {
            background-color: blue;
        }
    </style>


</head>

<body>

    <!--
            Warning: Do not try to add HTML to this section. Only the contents of the first <div>
            inside the <body> tag will be used while executing Display Template code. Any HTML that
            you add to this section will NOT become part of your Display Template.
    -->
    <script>
        $includeLanguageScript(this.url, "~sitecollection/_catalogs/masterpage/Display Templates/Language Files/{Locale}/CustomStrings.js");
    </script>

    <!--
        Use the div below to author your Display Template. Here are some things to keep in mind:
        * Surround any JavaScript logic as shown below using a "pound underscore" (#_ ... _#) token
        inside a comment.

        * Use the values assigned to your variables using an "underscore pound equals"
        (_#= ... =#_) token.
    -->
    <div id="Control_List" style="">

        <article class="nexus-widget">
            <header>
                <h2>Related Threads</h2>
            </header>
            <section class="">

                <ul class="nexus-list">

                    <!--#_
                    if (!$isNull(ctx.ClientControl) &&
                        !$isNull(ctx.ClientControl.shouldRenderControl) &&
                        !ctx.ClientControl.shouldRenderControl())
                    {
                        return "";
                    }
                    ctx.ListDataJSONGroupsKey = "ResultTables";
                    var $noResults = Srch.ContentBySearch.getControlTemplateEncodedNoResultsMessage(ctx.ClientControl);

                    var noResultsClassName = "ms-srch-result-noResults";


                    _#-->
                    _#= ctx.RenderGroups(ctx) =#_


                    <!--#_
                                    // Check if the web part should be hidden (when no results are retrieved)
        if (ctx.ClientControl.get_shouldShowNoResultMessage()) {
            var containerClass = $htmlEncode(ctx.ClientControl.get_nextUniqueId() + "_hide");
            AddPostRenderCallback(ctx, function() {debugger;
                // Check if page is in edit mode
                var inDesignMode = document.forms[MSOWebPartPageFormName].MSOLayout_InDesignMode;
                var wikiInEditMode = document.forms[MSOWebPartPageFormName]._wikiPageMode;
                var inEdit = false;
                if (typeof inDesignMode !== "undefined") {
                    inEdit = inDesignMode.value === "1" ? true : false;
                }
                if (typeof wikiInEditMode !== "undefined") {
                    inEdit = wikiInEditMode.value === "Edit" ? true : false;
                }
                // Hide the webpart when page is not in edit mode
                if (!inEdit) {
                    var container = document.getElementsByClassName(containerClass);
                    if (container.length) {
                        var elm = container[0];
                        while ((elm = elm.parentElement) && !elm.classList.contains('s4-wpcell-plain'));
                        if (typeof elm !== "undefined" && elm !== null) {
                            elm.style.display = "none";
                        }
                    }
                }
            });
        _#-->
                <div class="_#= containerClass =#_"></div>
        <!--#_
        }
        _#-->
                    <!--#_       if (ctx.ClientControl.get_shouldShowNoResultMessage())
                            {
                            _#-->
                    <div class="_#= noResultsClassName =#_">_#= $noResults =#_</div>
                    <!--#_
                    }
                    _#-->

                </ul>
            </section>
            <div class="nexus-spacer-1em"></div>
        </article>
    </div>
</body>
</html>
